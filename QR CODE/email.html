<!DOCTYPE html>
<html>
<head>
    <title>Genera Codice QR</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js">

    </script>
</head>
<body>
<div id="printable">
    <p>
        Codice QR Generato<br>
        un invio email come stringa<br>
        per la generazione del codice.
    </p>
    <div id="qrcode"></div>
</div>
<BR>
<button id="qrprint">STAMPA</button>

<script>
    window.addEventListener("load", function()
    {
        var qrc = new QRCode(document.getElementById("qrcode"),
            {
                text: "mailto:14529892@itisrossi.vi.it?subject=prova&body=ciao%20ciao",
                width: 200,
                height: 200,
                colorDark: "#000000"
            });

        document.getElementById("qrprint").addEventListener("click", function()
        {
            var printwin = window.open("");
            printwin.document.write(document.getElementById("printable").innerHTML);
            printwin.stop();
            let qr = printwin.document.querySelector("#qrcode img");
            qr.addEventListener("load", function()
            {
                printwin.print();
                printwin.close();
            });
        });
    });
</script>
</body>
</html>
